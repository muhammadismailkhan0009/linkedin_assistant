(()=>{var e=globalThis,t={},r={},o=e.parcelRequire94c2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire94c2=o);var a=o.register;a("a99GE",function(e,t){var r=o("3qpGP");chrome.runtime.onMessage.addListener((e,t,r)=>{"OPEN_POST_TAB"===e.type&&e.url&&chrome.tabs.create({url:e.url,active:!1},e=>{let t=e.id;chrome.tabs.onUpdated.addListener(function e(r,o){r===t&&"complete"===o.status&&(chrome.tabs.onUpdated.removeListener(e),chrome.scripting.executeScript({target:{tabId:t},files:["src/background/content.js"]}))})})}),chrome.runtime.onInstalled.addListener(async()=>{chrome.storage.local.get(["installId"],async e=>{if(e.installId)return void console.log("Install ID already exists:",e.installId);let t=crypto.randomUUID(),o=await (0,r.generateToken)("your-very-secret-key",t);chrome.storage.local.set({installId:t,token:o},()=>{console.log("Token generated and saved:",o)})})}),chrome.runtime.onMessage.addListener((e,t,r)=>{if(console.log("tab message is here 2"),"GET_TAB_URL_WHEN_FETCHING"===e.type)return console.log("message received 2"),chrome.tabs.query({active:!0},e=>{r({url:e[0]?.url??null})}),!0}),chrome.runtime.onMessage.addListener((e,t,r)=>{if("SET_BADGE"===e.type&&t.tab?.id!==void 0){let r=t.tab.id,o="",a="#000000";console.log("logic ran for badge"),"loading"===e.status?(o="...",a="#FFA500"):"ready"===e.status?(o="âœ“",a="#00C851"):"clear"===e.status&&(o=""),console.log("badge_text:"+o),chrome.action.setBadgeText({text:o,tabId:r}),o&&chrome.action.setBadgeBackgroundColor({color:a,tabId:r})}})}),a("3qpGP",function(e,t){async function r(e,t){let r=new TextEncoder,o=await crypto.subtle.importKey("raw",r.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return[...new Uint8Array(await crypto.subtle.sign("HMAC",o,r.encode(t)))].map(e=>e.toString(16).padStart(2,"0")).join("")}Object.defineProperty(e.exports,"generateToken",{get:()=>r,set:void 0,enumerable:!0,configurable:!0})}),o("a99GE")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IjRaLE8sTyxDLFMsQyxXLEMsQyxFLEUsSyxrQixFLEksRSxFLEcsRSxPLEksQyxNLEMsQyxJLEUsRyxDLFEsQyxFLEEsSSxJLEUsRSxFLEMsTyxJLEMsUyxDLFcsQyxTLEUsQyxDLEMsRSxJLEcsWSxDLEUsTSxHLE8sSSxDLFMsQyxjLEMsRyxPLFMsQyxhLEMsQyxPLE8sQyxFLE0sQyw0QixBLEcsRSxFLEcsTyxPLEMsVyxDLFcsQyxVLE8sTyxDLEssQyxHLEMsQyxZLEMsTSxJLEcsRSxTLEMsWSxRLEcsQyw2QixFLFMsRSxJLEUsTyxVLEcsQyxDLE0sRyxFLFMsSSxBLEUsQSx1QixDLEUsTyxPLEMsRyxFLEMsRyxDLFcsUSxDLEUsSyxRLEcsQyw2QixFLEUsRSxHQUdJLE9BQUEsT0FBSSxDQUFBLFNBQVksQ0FBSyxXQUFBLENBQUEsQ0FBQSxFQUFtQixFQUFXLEtBQ1IsR0FBbEIsUUFBQSxHQUFLLENBQUEseUJBQWEsQUFBQSw2QkFBQSxHQUFRLElBQVIsQ0FLM0IsT0FMNkMsUUFBSixHQUFBLENBQUEsc0JBQ2pELE9BQU0sSUFBQSxDQUFBLEtBQVEsQ0FBSSxDQUFFLFFBQXBCLENBQUEsRUFBQSxBQUFBLElBRUEsRUFBWSxDQUFBLElBQVUsQ0FBQSxDQUFBLEVBQUEsRUFBVyxLQUFDLElBQVMsRUFDdkMsSUFDSSxDQUdJLEdBQ0EsRUFKSixLQUlJLE9BQUEsQ0FBQSxTQUFBLENBQUEsV0FBQSxDQUFBLENBQUEsRUFBQSxFQUFBLElBSkosQ0FJWSxHQUFBLGNBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLENBQTRCLElBQUEsRUFBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLENBRTVDLEVBQUEsR0FDSixFQUFBLFVBR1osUUFBQSxHQUFBLENBQUEsdUJBSUksV0FBQSxDQUFPLEVBQVEsTUFBTSxFQUFLLEVBQUEsTUFBYyxFQUFGLFdBQUEsQUFDbEMsQUFBVyxTQUFYLEFBRGtDLEdBQ3ZCLE1BQVgsRUFDSSxFQUFZLElBQ1osRUFBQSxXQUFBLEFBQ0osUUFESSxFQUNKLEVBQUEsTUFBQSxHQUVBLEVBQWUsRUFBQSxFQUtmLFFBQU8sR0FBQSxDQUFBLGNBQVAsR0FBc0MsT0FBQSxNQUFBLENBQUEsWUFBQSxDQUFBLENBQUEsS0FBQSxRQUFBLENBQUEsR0FBTSxHQUN4QyxPQUFBLE1BQVksQ0FBQSx1QkFBQSxDQUFBLENBQUEsTUFBWixRQUFBLENBQUEsRUFFUixDQUNKLDZCLGUsRSxDLEMsQyxFLEksRSxJLFksRSxNLE8sTSxDLFMsQyxNLEUsTSxDLEcsQyxLLE8sSyxTLEcsRSxDLE8sRSxNLEksSSxXLEEsTSxPLE0sQyxJLEMsTyxFLEUsTSxDLEssQyxHLEMsRyxFLFEsQyxJLFEsQyxFLE0sSSxDLEciLCJzb3VyY2VzIjpbInNyYy9iYWNrZ3JvdW5kL2JhY2tncm91bmQudHMiLCJzcmMvYmFja2dyb3VuZC9nZW5lcmF0ZVRva2VuT25JbnN0YWxsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyYXRlVG9rZW4gfSBmcm9tIFwiLi9nZW5lcmF0ZVRva2VuT25JbnN0YWxsXCI7XG5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIk9QRU5fUE9TVF9UQUJcIiAmJiBtZXNzYWdlLnVybCkge1xuICAgICAgICBjaHJvbWUudGFicy5jcmVhdGUoeyB1cmw6IG1lc3NhZ2UudXJsLCBhY3RpdmU6IGZhbHNlIH0sICh0YWIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuXG4gICAgICAgICAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gbGlzdGVuZXIodXBkYXRlZFRhYklkLCBpbmZvKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRUYWJJZCA9PT0gdGFiSWQgJiYgaW5mby5zdGF0dXMgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5vblVwZGF0ZWQucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHsgdGFiSWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzOiBbXCJzcmMvYmFja2dyb3VuZC9jb250ZW50LmpzXCJdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoYXN5bmMgKCkgPT4ge1xuXG4gICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFtcImluc3RhbGxJZFwiXSwgYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0Lmluc3RhbGxJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnN0YWxsIElEIGFscmVhZHkgZXhpc3RzOlwiLCByZXN1bHQuaW5zdGFsbElkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlY3JldCA9IFwieW91ci12ZXJ5LXNlY3JldC1rZXlcIjsgLy8gaGFyZGNvZGVkIGZvciBub3dcbiAgICAgICAgY29uc3QgaW5zdGFsbElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTsgLy8gdW5pcXVlIHBlciBpbnN0YWxsXG5cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZW5lcmF0ZVRva2VuKHNlY3JldCwgaW5zdGFsbElkKTtcblxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoeyBpbnN0YWxsSWQsIHRva2VuIH0sICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gZ2VuZXJhdGVkIGFuZCBzYXZlZDpcIiwgdG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuXG5cbi8vIGdldCB0YWIgdXJsIG9uIHBvcHVwLW9wZW5cbi8vIEZJWE1FOiB1c2Ugd2luZG93LmhyZWYgcHJvcGVydHkgaW5zdGVhZCBvZiBtZXNzYWdlIHRvIGF2b2lkIGlzc3Vlcy5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInRhYiBtZXNzYWdlIGlzIGhlcmUgMlwiKTtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIkdFVF9UQUJfVVJMX1dIRU5fRkVUQ0hJTkdcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1lc3NhZ2UgcmVjZWl2ZWQgMlwiKTtcbiAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHVybDogdGFic1swXT8udXJsID8/IG51bGwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gPC0tIEltcG9ydGFudDoga2VlcHMgbWVzc2FnZSBjaGFubmVsIG9wZW5cbiAgICB9XG59KTtcblxuLy8gY2hhbmdlIGJhbm5lciBpbmRpY2F0b3JcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIlNFVF9CQURHRVwiICYmIHNlbmRlci50YWI/LmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGFiSWQgPSBzZW5kZXIudGFiLmlkO1xuXG4gICAgICAgIGxldCBiYWRnZVRleHQgPSBcIlwiO1xuICAgICAgICBsZXQgYmFkZ2VDb2xvciA9IFwiIzAwMDAwMFwiO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9naWMgcmFuIGZvciBiYWRnZVwiKTtcblxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgICBiYWRnZVRleHQgPSBcIi4uLlwiO1xuICAgICAgICAgICAgYmFkZ2VDb2xvciA9IFwiI0ZGQTUwMFwiOyAvLyBvcmFuZ2VcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG4gICAgICAgICAgICBiYWRnZVRleHQgPSBcIuKck1wiO1xuICAgICAgICAgICAgYmFkZ2VDb2xvciA9IFwiIzAwQzg1MVwiOyAvLyBncmVlblxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBcImNsZWFyXCIpIHtcbiAgICAgICAgICAgIGJhZGdlVGV4dCA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcImJhZGdlX3RleHQ6XCIgKyBiYWRnZVRleHQpO1xuXG4gICAgICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogYmFkZ2VUZXh0LCB0YWJJZCB9KTtcbiAgICAgICAgaWYgKGJhZGdlVGV4dCkge1xuICAgICAgICAgICAgY2hyb21lLmFjdGlvbi5zZXRCYWRnZUJhY2tncm91bmRDb2xvcih7IGNvbG9yOiBiYWRnZUNvbG9yLCB0YWJJZCB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5cbiIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHNlY3JldDogc3RyaW5nLCBpbnN0YWxsSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgZW5jID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgY29uc3Qga2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgIFwicmF3XCIsXG4gICAgICAgIGVuYy5lbmNvZGUoc2VjcmV0KSxcbiAgICAgICAgeyBuYW1lOiBcIkhNQUNcIiwgaGFzaDogXCJTSEEtMjU2XCIgfSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFtcInNpZ25cIl1cbiAgICApO1xuXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKFwiSE1BQ1wiLCBrZXksIGVuYy5lbmNvZGUoaW5zdGFsbElkKSk7XG4gICAgcmV0dXJuIFsuLi5uZXcgVWludDhBcnJheShzaWduYXR1cmUpXS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbn1cbiJdLCJuYW1lcyI6W10sInZlcnNpb24iOjMsImZpbGUiOiJiYWNrZ3JvdW5kLkhBU0hfUkVGX2Y1MDk4MDUxYjFhNDllMDEuanMubWFwIn0=
