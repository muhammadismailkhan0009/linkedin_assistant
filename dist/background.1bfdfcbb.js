(()=>{var e=globalThis,t={},r={},o=e.parcelRequire94c2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire94c2=o);var a=o.register;a("a99GE",function(e,t){var r=o("3qpGP");chrome.runtime.onMessage.addListener((e,t,r)=>{"OPEN_POST_TAB"===e.type&&e.url&&chrome.tabs.create({url:e.url,active:!1},e=>{let t=e.id;chrome.tabs.onUpdated.addListener(function e(r,o){r===t&&"complete"===o.status&&(chrome.tabs.onUpdated.removeListener(e),chrome.scripting.executeScript({target:{tabId:t},files:["src/background/content.js"]}))})})}),chrome.runtime.onInstalled.addListener(async()=>{let e=crypto.randomUUID(),t=await (0,r.generateToken)("your-very-secret-key",e);chrome.storage.local.set({installId:e,token:t},()=>{console.log("Token generated and saved:",t)})}),chrome.runtime.onMessage.addListener((e,t,r)=>{if(console.log("tab message is here 2"),"GET_TAB_URL_WHEN_FETCHING"===e.type)return console.log("message received 2"),chrome.tabs.query({active:!0},e=>{r({url:e[0]?.url??null})}),!0}),chrome.runtime.onMessage.addListener((e,t,r)=>{if("SET_BADGE"===e.type&&t.tab?.id!==void 0){let r=t.tab.id,o="",a="#000000";console.log("logic ran for badge"),"loading"===e.status?(o="...",a="#FFA500"):"ready"===e.status?(o="âœ“",a="#00C851"):"clear"===e.status&&(o=""),console.log("badge_text:"+o),chrome.action.setBadgeText({text:o,tabId:r}),o&&chrome.action.setBadgeBackgroundColor({color:a,tabId:r})}})}),a("3qpGP",function(e,t){async function r(e,t){let r=new TextEncoder,o=await crypto.subtle.importKey("raw",r.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return[...new Uint8Array(await crypto.subtle.sign("HMAC",o,r.encode(t)))].map(e=>e.toString(16).padStart(2,"0")).join("")}Object.defineProperty(e.exports,"generateToken",{get:()=>r,set:void 0,enumerable:!0,configurable:!0})}),o("a99GE")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IjRaLE8sTyxDLFMsQyxXLEMsQyxFLEUsSyxrQixFLEksRSxFLEcsRSxPLEksQyxNLEMsQyxJLEUsRyxDLFEsQyxFLEEsSSxJLEUsRSxFLEMsTyxJLEMsUyxDLFcsQyxTLEUsQyxDLEMsRSxJLEcsQSxZLEcsTSxHLE8sSSxDLFMsQyxjLEMsRyxPLFMsQyxhLEMsQyxPLE8sQyxFLE0sQyw0QixBLEcsRSxFLEcsTyxPLEMsVyxDLFcsQyxVLEksRSxPLFUsRyxDLEMsTSxDLEUsRSxTLEksQSxFLEEsdUIsQyxFLE8sTyxDLEcsRSxDLEcsQyxXLFEsQyxFLEssUSxHLEMsNkIsRSxFLEcsTyxPLEMsUyxDLFcsQyxDLEUsRSxLLEcsUSxHLEMseUIsNkIsQyxFLEksQyxPLFEsRyxDLHNCLE8sSSxDLEssQyxDLFEsQyxFLEEsSSxFLEMsSSxDLEMsRSxFLEssSSxFLEksQ0FHSSxHQUN5RCxFLEtBQUcsT0FBSCxDQUFBLFNBQUEsQ0FBQSxXQUFBLENBQUEsQ0FBQSxFQUFBLEVBQUEsSSxDQUNqRCxHQUFjLGNBQWQsRUFBTSxJQUFBLEVBQU4sRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLENBRUEsSUFBQSxFQUFZLEVBQVMsR0FBQyxDQUFBLEVBQUEsQ0FFZCxFQUFPLEdBRVAsRUFBTyxVQUNPLFFBQUEsR0FBQSxDQUFBLHVCQUNWLFdBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBUSxFQUFBLE1BQTRCLEVBQUEsV0FBQSxBQUN4QyxTQUR3QyxBQUN4QyxDQUFBLEVBQUEsTUFBQSxFQUNKLEVBQUEsSUFDSixFQUFBLFdBQUEsQUFDSixRQURJLEVBQ0osRUFBQSxNQUFBLEdBRVIsRUFBQSxFQUFBLEVBSUksUUFBTSxHQUFBLENBQUEsY0FBbUIsR0FJekIsT0FBTyxNQUFRLENBQUEsWUFBZixDQUFBLENBQUEsS0FBQSxRQUFBLENBQUEsR0FBMkIsR0FBVyxPQUFBLE1BQUEsQ0FBQSx1QkFBQSxDQUFBLENBQUEsTUFBQSxRQUFBLENBQUEsRUFDbEMsQ0FDSiw2QixlLEUsQyxDLEMsRSxJLEUsSSxZLEUsTSxPLE0sQyxTLEMsTSxFLE0sQyxHLEMsSyxPLEssUyxHLEUsQyxPLEUsTSxJLEksVyxBLE0sTyxNLEMsSSxDLE8sRSxFLE0sQyxLLEMsRyxDLEcsRSxRLEMsSSxRLEMsRSxNLEksQyxHIiwic291cmNlcyI6WyJzcmMvYmFja2dyb3VuZC9iYWNrZ3JvdW5kLnRzIiwic3JjL2JhY2tncm91bmQvZ2VuZXJhdGVUb2tlbk9uSW5zdGFsbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVRva2VuIH0gZnJvbSBcIi4vZ2VuZXJhdGVUb2tlbk9uSW5zdGFsbFwiO1xuXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJPUEVOX1BPU1RfVEFCXCIgJiYgbWVzc2FnZS51cmwpIHtcbiAgICAgICAgY2hyb21lLnRhYnMuY3JlYXRlKHsgdXJsOiBtZXNzYWdlLnVybCwgYWN0aXZlOiBmYWxzZSB9LCAodGFiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YWJJZCA9IHRhYi5pZDtcblxuICAgICAgICAgICAgY2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIGxpc3RlbmVyKHVwZGF0ZWRUYWJJZCwgaW5mbykge1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkVGFiSWQgPT09IHRhYklkICYmIGluZm8uc3RhdHVzID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnMub25VcGRhdGVkLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7IHRhYklkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlczogW1wic3JjL2JhY2tncm91bmQvY29udGVudC5qc1wiXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzZWNyZXQgPSBcInlvdXItdmVyeS1zZWNyZXQta2V5XCI7IC8vIGhhcmRjb2RlZCBmb3Igbm93XG4gICAgY29uc3QgaW5zdGFsbElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTsgLy8gdW5pcXVlIHBlciBpbnN0YWxsXG5cbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdlbmVyYXRlVG9rZW4oc2VjcmV0LCBpbnN0YWxsSWQpO1xuXG4gICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgaW5zdGFsbElkLCB0b2tlbiB9LCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gZ2VuZXJhdGVkIGFuZCBzYXZlZDpcIiwgdG9rZW4pO1xuICAgIH0pO1xufSk7XG5cbi8vIGdldCB0YWIgdXJsIG9uIHBvcHVwLW9wZW5cbi8vIEZJWE1FOiB1c2Ugd2luZG93LmhyZWYgcHJvcGVydHkgaW5zdGVhZCBvZiBtZXNzYWdlIHRvIGF2b2lkIGlzc3Vlcy5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInRhYiBtZXNzYWdlIGlzIGhlcmUgMlwiKTtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIkdFVF9UQUJfVVJMX1dIRU5fRkVUQ0hJTkdcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1lc3NhZ2UgcmVjZWl2ZWQgMlwiKTtcbiAgICAgICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHVybDogdGFic1swXT8udXJsID8/IG51bGwgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gPC0tIEltcG9ydGFudDoga2VlcHMgbWVzc2FnZSBjaGFubmVsIG9wZW5cbiAgICB9XG59KTtcblxuLy8gY2hhbmdlIGJhbm5lciBpbmRpY2F0b3JcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcIlNFVF9CQURHRVwiICYmIHNlbmRlci50YWI/LmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdGFiSWQgPSBzZW5kZXIudGFiLmlkO1xuXG4gICAgICAgIGxldCBiYWRnZVRleHQgPSBcIlwiO1xuICAgICAgICBsZXQgYmFkZ2VDb2xvciA9IFwiIzAwMDAwMFwiO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9naWMgcmFuIGZvciBiYWRnZVwiKTtcblxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgICBiYWRnZVRleHQgPSBcIi4uLlwiO1xuICAgICAgICAgICAgYmFkZ2VDb2xvciA9IFwiI0ZGQTUwMFwiOyAvLyBvcmFuZ2VcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG4gICAgICAgICAgICBiYWRnZVRleHQgPSBcIuKck1wiO1xuICAgICAgICAgICAgYmFkZ2VDb2xvciA9IFwiIzAwQzg1MVwiOyAvLyBncmVlblxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBcImNsZWFyXCIpIHtcbiAgICAgICAgICAgIGJhZGdlVGV4dCA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcImJhZGdlX3RleHQ6XCIgKyBiYWRnZVRleHQpO1xuXG4gICAgICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogYmFkZ2VUZXh0LHRhYklkIH0pO1xuICAgICAgICBpZiAoYmFkZ2VUZXh0KSB7XG4gICAgICAgICAgICBjaHJvbWUuYWN0aW9uLnNldEJhZGdlQmFja2dyb3VuZENvbG9yKHsgY29sb3I6IGJhZGdlQ29sb3IsdGFiSWQgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4iLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbihzZWNyZXQ6IHN0cmluZywgaW5zdGFsbElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGVuYyA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIGNvbnN0IGtleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgICBcInJhd1wiLFxuICAgICAgICBlbmMuZW5jb2RlKHNlY3JldCksXG4gICAgICAgIHsgbmFtZTogXCJITUFDXCIsIGhhc2g6IFwiU0hBLTI1NlwiIH0sXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBbXCJzaWduXCJdXG4gICAgKTtcblxuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbihcIkhNQUNcIiwga2V5LCBlbmMuZW5jb2RlKGluc3RhbGxJZCkpO1xuICAgIHJldHVybiBbLi4ubmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKV0ubWFwKGIgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG59XG4iXSwibmFtZXMiOltdLCJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5IQVNIX1JFRl9mNTA5ODA1MWIxYTQ5ZTAxLmpzLm1hcCJ9
